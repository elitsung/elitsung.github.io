<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ page.title }}{% if page.title %} · {% endif %}{{ site.title }}</title>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(2deg); }
      50% { transform: rotate(-2deg); }
      75% { transform: rotate(1deg); }
    }
    body { 
      font-family: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      max-width: 900px;
      margin: 2rem auto;
      line-height: 1.6;
      background-color: #fff;
      color: #111;
    }
    a { 
      color: blue; 
      text-decoration: underline;
     }
    nav ul { 
      list-style: disc; 
      padding-left: 1.25rem;
     }
    header h1 { 
      margin-bottom: 0.5rem; 
      font-weight: 500; 
    }
    header h1 a {
      color: blue;
      text-decoration: underline;
      font-style: normal;
      transition: font-style 0.1s ease;
    }
    img { 
      max-width: 100%; 
      height: auto; 
    }
    figure { 
      margin: 0 0 2rem 0; 
    }
    figcaption { 
      font-size: 0.9em; 
      opacity: 0.7; 
    }
    header h1 a:hover,
    .page-divider {
      border: none;
      border-top: 1px solid rgba(0, 0, 0, 0.15);
      margin: 1.5rem auto 2rem auto;
      width: 100%;
    }
    /* inline, click-to-open tree; keeps your minimalist/blue look */
    .nav-inline { text-align:center; margin-top:.5rem; font-size:1rem; letter-spacing:.3px; color:blue; }
    .nav-inline a { color:blue; text-decoration:underline; font-style:normal; transition:font-style .1s ease; }
    .nav-inline a:hover { text-decoration:none; font-style:italic; }

    /* details/summary styling */
    .nav-inline details { display:inline-block; position:relative; }
    .nav-inline details > summary { list-style:none; display:inline; cursor:pointer; }
    .nav-inline details > summary::-webkit-details-marker { display:none; } /* hide default triangle */

    /* subtree block that drops below the item when open */
    .nav-inline details[open] > ul {
      margin:.4rem 0 .6rem 2rem; /* indent */
      padding-left:.75rem;
      border-left:1px solid rgba(0,0,0,.15); /* “tree” line */
      text-align:left; /* read like a tree under the centered bar */
      color:blue;      /* separators/links stay blue */
    }
    .nav-inline ul { margin:0; padding:0; }
    .nav-inline li { list-style:none; margin:.25rem 0; }
  </style>
</head>
<body>

  {% if page.banner_image %}
  <div class="banner-image">
    <img src="{{ page.banner_image }}" alt="">
    {% if page.banner_text %}
      <div class="banner-text">{{ page.banner_text }}</div>
    {% endif %}
  </div>
  {% endif %}

  <header>
    <h1><a href="/">{{ site.title }}</a></h1>
    <nav class="nav-inline">
      {% for item in site.data.nav %}
        {% include tree_item.html item=item %}
        {% unless forloop.last %} ✱ {% endunless %}
      {% endfor %}
    </nav>
  </header>
  <hr class="page-divider">
  <main>
    {{ content }}
  </main>
<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.nav-inline details > summary > a').forEach(a => {
    a.addEventListener('click', (e) => {
      // normal click toggles; modifier-clicks (cmd/ctrl/shift/alt) still navigate
      if (!(e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || e.button === 1)) {
        e.preventDefault();
        const d = a.closest('details');
        d.open = !d.open;
      }
    });
  });
});
</script>
</body>
</html>